import{r,S as p,j as t,P as u,L as h}from"./index--dqCTnNn.js";const b=a=>{const{id:e,productName:c,price:s,productImage:n}=a.data,{addToCart:j,cartItem:g,removeFromCart:f,updateCartItem:w}=r.useContext(p),o=g[e]||0,[i,x]=r.useState(o);r.useEffect(()=>{x(o)},[o]);const N=l=>{const m=parseInt(l.target.value,10);!isNaN(m)&&m>=0&&x(m)},d=()=>{w(e,i)};return t.jsxs("div",{className:"flex justify-start items-center container mx-auto mb-6 w-1/2 shadow-xl hover:shadow-2xl p-6 rounded-lg  duration-700 max-lg:w-3/4 max-sm:w-full max-sm:mx-4",children:[t.jsx("img",{src:n,alt:"product",className:"w-48 mr-8 max-sm:w-36 max-sm:mr-6"}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-center",children:[t.jsx("p",{children:t.jsx("b",{children:c})}),t.jsxs("p",{className:"my-4",children:["$",(s*i).toFixed(1)]})]}),t.jsx("button",{className:"bg-slate-300 w-6 max-sm:w-4",onClick:()=>j(e),children:" + "}),t.jsx("input",{value:i,onChange:N,onBlur:d,onKeyPress:l=>l.key==="Enter"&&d(),className:"w-20 text-center max-sm:w-8"}),t.jsx("button",{className:"bg-slate-300 w-6 max-sm:w-4",onClick:()=>f(e),children:" - "})]})]},e)};function y(){const{cartItem:a}=r.useContext(p),[e,c]=r.useState(0);return r.useEffect(()=>{let s=0;u.forEach(n=>{a[n.id]>0&&(s+=n.price*a[n.id])}),c(s)},[a]),t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"w-fit mx-auto text-4xl my-20",children:"Your cart item"}),t.jsx("div",{children:u.map(s=>{if(a[s.id]>0)return t.jsx(b,{data:s},s.id)})}),e>0?t.jsxs("div",{children:[t.jsxs("p",{className:"flex items-center justify-center mb-8",children:["Subtotal : $",e.toFixed(2)]}),t.jsxs("div",{className:"flex items-center justify-center gap-x-5",children:[t.jsx(h,{to:"/",className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-600 duration-300",children:"continue shopping"}),t.jsx(h,{to:"/checkout",className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-600 duration-300",children:"checkout"})]})]}):t.jsx("h1",{className:"w-fit mx-auto text-4xl mb-20",children:"Your cart is empty"}),t.jsx("div",{className:"h-52"})]})}export{y as default};
